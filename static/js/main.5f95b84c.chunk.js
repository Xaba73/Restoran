(this["webpackJsonpyaroslav-restik"]=this["webpackJsonpyaroslav-restik"]||[]).push([[0],[,,,,function(t,e,n){t.exports={"cart-items":"Cart_cart-items__2EYA6",total:"Cart_total__RYkaO",actions:"Cart_actions__TPy7k","button--alt":"Cart_button--alt__2ajE9",button:"Cart_button__2Im5A"}},function(t,e,n){t.exports={"cart-item":"CartItem_cart-item__9CAkh",summary:"CartItem_summary__2j6Og",price:"CartItem_price__3dGb6",amount:"CartItem_amount__189-z",actions:"CartItem_actions__6OqOL"}},function(t,e,n){t.exports={button:"HeaderCartButton_button__3j4Qi",icon:"HeaderCartButton_icon__3VvzN",badge:"HeaderCartButton_badge__1SYTt",bump:"HeaderCartButton_bump__3gEi8"}},,,,function(t,e,n){t.exports={backdrop:"Modal_backdrop__38RCv",modal:"Modal_modal__26n0b","slide-down":"Modal_slide-down__zBwlN"}},function(t,e,n){t.exports={meal:"MealItem_meal__1NLUW",description:"MealItem_description__M1FKI",price:"MealItem_price__18tXg"}},function(t,e,n){t.exports={total:"Gratitude_total__3iAYB","button--alt":"Gratitude_button--alt__3b9Ci",button:"Gratitude_button__1Xpzx"}},function(t,e,n){t.exports={header:"Header_header__13sDm","main-image":"Header_main-image__307UQ"}},,,,function(t,e,n){t.exports={card:"Card_card__5dI1C"}},function(t,e,n){t.exports={meals:"AvailableMeals_meals__33VxM","meals-appear":"AvailableMeals_meals-appear__H4c9h"}},function(t,e,n){t.exports={input:"Input_input__2-JJd"}},function(t,e,n){t.exports={form:"MealItemForm_form__1hIZf"}},function(t,e,n){t.exports={summary:"MealsSummary_summary__1MMXO"}},,,,,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var a=n(16),c=n.n(a),i=(n(29),n(3)),r=n(1),s=n.n(r),o=n(2),l=n(10),u=n.n(l),m=n(8),d=n.n(m),j=n(0),b=function(t){return Object(j.jsx)("div",{className:u.a.backdrop,onClick:t.onClose})},O=function(t){return Object(j.jsx)("div",{className:u.a.modal,children:Object(j.jsx)("div",{className:u.a.content,children:t.children})})},x=document.getElementById("overlays"),_=function(t){return Object(j.jsxs)(r.Fragment,{children:[d.a.createPortal(Object(j.jsx)(b,{onClose:t.onClose}),x),d.a.createPortal(Object(j.jsx)(O,{children:t.children}),x)]})},p=n(4),h=n.n(p),f=s.a.createContext({items:[],totalAmount:0,addItem:function(t){},removeItem:function(t){}}),v=n(5),C=n.n(v),N=function(t){var e="".concat(t.price," \u20bd");return Object(j.jsxs)("li",{className:C.a["cart-item"],children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:t.name}),Object(j.jsxs)("div",{className:C.a.summary,children:[Object(j.jsx)("span",{className:C.a.price,children:e}),Object(j.jsxs)("span",{className:C.a.amount,children:["x ",t.amount]})]})]}),Object(j.jsxs)("div",{className:C.a.actions,children:[Object(j.jsx)("button",{onClick:t.onRemove,children:"\u2212"}),Object(j.jsx)("button",{onClick:t.onAdd,children:"+"})]})]})},I=function(t){var e=Object(r.useContext)(f),n="".concat(e.totalAmount," \u20bd"),a=e.items.length>0,c=function(t){e.removeItem(t)},i=function(t){e.addItem(Object(o.a)(Object(o.a)({},t),{},{amount:1}))},s=Object(j.jsx)("ul",{className:h.a["cart-items"],children:e.items.map((function(t){return Object(j.jsx)(N,{name:t.name,amount:t.amount,price:t.price,onRemove:c.bind(null,t.id),onAdd:i.bind(null,t)},t.id)}))});return Object(j.jsxs)(_,{onClose:t.onClose,children:[s,Object(j.jsxs)("div",{className:h.a.total,children:[Object(j.jsx)("span",{children:" \u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: "}),Object(j.jsxs)("span",{children:[" ",n]})]}),Object(j.jsxs)("div",{className:h.a.actions,children:[Object(j.jsx)("button",{className:h.a["button--alt"],onClick:t.onClose,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),a&&Object(j.jsx)("button",{className:h.a.button,onClick:t.onGratitude,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})]})]})},A=n(12),g=n.n(A),k=function(t){return Object(j.jsx)(_,{onClose:t.onClose,children:Object(j.jsxs)("div",{className:g.a.total,children:[Object(j.jsx)("span",{children:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0442\u043e, \u0447\u0442\u043e \u0443\u0434\u0435\u043b\u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u044f \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0438 \u043c\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0445\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0412\u0430\u043c \u0434\u043d\u044f! \ud83d\udc4b \ud83d\ude42"}),Object(j.jsx)("button",{className:g.a["button--alt"],onClick:t.onClose,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})},y=n.p+"static/media/meals.7db25021.jpg",M=n(13),w=n.n(M),H=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},E=n(6),R=n.n(E),B=function(t){var e=Object(r.useState)(!1),n=Object(i.a)(e,2),a=n[0],c=n[1],s=Object(r.useContext)(f).items,o=s.reduce((function(t,e){return t+e.amount}),0);Object(r.useEffect)((function(){if(0!==s.length){c(!0);var t=setTimeout((function(){c(!1)}),300);return function(){clearTimeout(t)}}}),[s]);var l="".concat(R.a.button," ").concat(a?R.a.bump:"");return Object(j.jsxs)("button",{className:l,onClick:t.onClick,children:[Object(j.jsx)("span",{className:R.a.icon,children:Object(j.jsx)(H,{})}),Object(j.jsx)("span",{className:R.a.bump,children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437"}),Object(j.jsx)("span",{className:R.a.badge,children:o})]})},S=function(t){return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsxs)("header",{className:w.a.header,children:[Object(j.jsx)("h1",{children:"\u0420\u0435\u0441\u0442\u0438\u043a"}),Object(j.jsx)(B,{onClick:t.onShowCart})]}),Object(j.jsx)("div",{className:w.a["main-image"],children:Object(j.jsx)("img",{src:y,alt:"\u0421\u0442\u043e\u043b \u0441 \u0432\u043a\u0443\u0441\u043d\u044b\u043c\u0438 \u0431\u043b\u044e\u0434\u0430\u043c\u0438"})})]})},D=n(17),z=n.n(D),F=function(t){return Object(j.jsx)("div",{className:z.a.card,children:t.children})},G=n(18),T=n.n(G),J=n(11),P=n.n(J),U=n(19),Y=n.n(U),V=s.a.forwardRef((function(t,e){return Object(j.jsxs)("div",{className:Y.a.input,children:[Object(j.jsx)("label",{htmlFor:t.input.id,children:t.label}),Object(j.jsx)("input",Object(o.a)({ref:e},t.input))]})})),X=n(20),L=n.n(X),Q=function(t){var e=Object(r.useRef)(),n=Object(r.useState)(!0),a=Object(i.a)(n,2),c=a[0],s=a[1];return Object(j.jsxs)("form",{className:L.a.form,onSubmit:function(n){n.preventDefault();var a=e.current.value,c=+a;0===a.trim().length||c<1||c>5?s(!1):t.onAddToCart(c)},children:[Object(j.jsx)(V,{ref:e,label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",input:{id:"amount_"+t.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(j.jsx)("button",{children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),!c&&Object(j.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043b\u044e\u0434 \u043e\u0442 1 \u0434\u043e 5"})]})},q=function(t){var e=Object(r.useContext)(f),n="".concat(t.price," \u20bd");return Object(j.jsxs)("li",{className:P.a.meal,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:t.name}),Object(j.jsx)("div",{className:P.a.description,children:t.description}),Object(j.jsx)("div",{className:P.a.price,children:n})]}),Object(j.jsx)("div",{children:Object(j.jsx)(Q,{id:t.id,onAddToCart:function(n){e.addItem({id:t.id,name:t.name,amount:n,price:t.price})}})})]})},K=[{id:"m1",name:"\u0421\u0443\u0448\u0438",description:"\u0421\u0432\u0435\u0436\u0430\u044f \u0440\u044b\u0431\u0430 \u0434\u043b\u044f \u0433\u0443\u0440\u043c\u0430\u043d\u043e\u0432",price:899},{id:"m2",name:"\u0428\u043d\u0438\u0446\u0435\u043b\u044c",description:"\u041f\u0440\u044f\u043c\u0438\u043a\u043e\u043c \u0438\u0437 \u0413\u0435\u0440\u043c\u0430\u043d\u0438\u0438!",price:462},{id:"m3",name:"\u0411\u0443\u0440\u0433\u0435\u0440 \u0431\u0430\u0440\u0431\u0435\u043a\u044c\u044e",description:"\u0410\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u0438\u0439 \u0441\u0442\u0438\u043b\u044c, \u043d\u0435\u043e\u043f\u0438\u0441\u0443\u0435\u043c\u044b\u0439 \u0432\u043e\u0441\u0442\u043e\u0440\u0433",price:378},{id:"m4",name:"\u0411\u043e\u0443\u043b \u0441 \u043e\u0432\u043e\u0449\u0430\u043c\u0438",description:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0439...\u0438 \u0437\u0435\u043b\u0451\u043d\u044b\u0439...",price:299}],W=function(){var t=K.map((function(t){return Object(j.jsx)(q,{id:t.id,name:t.name,description:t.description,price:t.price},t.id)}));return Object(j.jsx)("section",{className:T.a.meals,children:Object(j.jsx)(F,{children:Object(j.jsx)("ul",{children:t})})})},Z=n(21),$=n.n(Z),tt=function(){return Object(j.jsxs)("section",{className:$.a.summary,children:[Object(j.jsx)("h2",{children:"\u0412\u043a\u0443\u0441\u043d\u044b\u0435 \u0431\u043b\u044e\u0434\u0430, \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0434\u043b\u044f \u0432\u0430\u0441"}),Object(j.jsx)("p",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u043b\u044e\u0431\u0438\u043c\u043e\u0435 \u0431\u043b\u044e\u0434\u043e \u0438\u0437 \u043d\u0430\u0448\u0435\u0433\u043e \u0448\u0438\u0440\u043e\u043a\u043e\u0433\u043e \u043c\u0435\u043d\u044e \u0438 \u043d\u0430\u0441\u043b\u0430\u0436\u0434\u0430\u0439\u0442\u0435\u0441\u044c \u0432\u043a\u0443\u0441\u043d\u044b\u043c \u043e\u0431\u0435\u0434\u043e\u043c \u0438\u043b\u0438 \u0443\u0436\u0438\u043d\u043e\u043c \u0434\u043e\u043c\u0430."}),Object(j.jsx)("p",{children:"\u0412\u0441\u0435 \u043d\u0430\u0448\u0438 \u0431\u043b\u044e\u0434\u0430 \u0433\u043e\u0442\u043e\u0432\u044f\u0442\u0441\u044f \u0438\u0437 \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432, \u0442\u043e\u0447\u043d\u043e \u0432 \u0441\u0440\u043e\u043a \u0438 \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u0436\u0435 \u043e\u043f\u044b\u0442\u043d\u044b\u043c\u0438 \u043f\u043e\u0432\u0430\u0440\u0430\u043c\u0438!"})]})},et=function(){return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)(tt,{}),Object(j.jsx)(W,{})]})},nt=n(14),at={items:[],totalAmount:0},ct=function(t,e){if("ADD"===e.type){var n,a=t.totalAmount+e.item.price*e.item.amount,c=t.items.findIndex((function(t){return t.id===e.item.id})),i=t.items[c];if(i){var r=Object(o.a)(Object(o.a)({},i),{},{amount:i.amount+e.item.amount});(n=Object(nt.a)(t.items))[c]=r}else n=t.items.concat(e.item);return{items:n,totalAmount:a}}if("REDUCE"===e.type){var s,l=t.items.findIndex((function(t){return t.id===e.id})),u=t.items[l],m=t.totalAmount-u.price;if(1===u.amount)s=t.items.filter((function(t){return t.id!==e.id}));else{var d=Object(o.a)(Object(o.a)({},u),{},{amount:u.amount-1});(s=Object(nt.a)(t.items))[l]=d}return{items:s,totalAmount:m}}return at},it=function(t){var e=Object(r.useReducer)(ct,at),n=Object(i.a)(e,2),a=n[0],c=n[1],s={items:a.items,totalAmount:a.totalAmount,addItem:function(t){c({type:"ADD",item:t})},removeItem:function(t){c({type:"REDUCE",id:t})}};return Object(j.jsx)(f.Provider,{value:s,children:t.children})};var rt=function(){var t=Object(r.useState)(!1),e=Object(i.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(j.jsxs)(it,{children:[n&&Object(j.jsx)(I,{onClose:function(){a(!1)},onGratitude:function(){a(!1),l(!0)}}),o&&Object(j.jsx)(k,{onClose:function(){l(!1)}}),Object(j.jsx)(S,{onShowCart:function(){a(!0)}}),Object(j.jsx)("main",{children:Object(j.jsx)(et,{})})]})};c.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(rt,{}))}],[[31,1,2]]]);
//# sourceMappingURL=main.5f95b84c.chunk.js.map